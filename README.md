# アプリケーション名
tasks cultivator

# アプリケーション概要
特に、見通しを立てるのが難しいプロジェクトにおけるタスク管理を目的としたアプリケーション。
あるタスクに対して複数の子を紐づけることができ、(相対的)親タスクを通して子タスクを操作することができる。
また、期限となる日付を設定したタスクは、カレンダー上の設定された日にタスクのタイトル(tasksテーブルのtitleカラムに保存された値)が表示される。

# URL
http://18.177.101.150/<br>
ID：edwin<br>
PASS：1947

# テスト用アカウント
- e-mail：test@test.com
- pass：1111iiii

# 利用方法
#### 下位項目
1. 順序
2. 順序②

# アプリケーションを作成した背景
タスク詳細における文字数制限について説明が不足していたため補足いたします。こちらには全角100字(300バイト)の文字数制限をかけておりますが、(text型が許容する最大バイト数を上回ることが想定されないのなら)そもそも制限をかける必要がないのでは？と思われたかもしれません。この点は、当初の設計の部分に関わっております。

私がToDoアプリを作成するにあたって課題としたのは、「タスクの粒度」の問題です。例えば、タスクAとタスクBを設定したが、タスクAをやっていく中で、実はタスクA-1とタスクA-2という2つのタスクとして捉えた方がより適切であるということがわかったとします。この時、タスクBと並列でタスクA-1とタスクA-2を新たに作成する方法があると思います。しかし、この方法では構造上タスクA-1とタスクA-2に連関関係を見出すことはできません。一方、新規タスク作成はせず、タスクAの詳細(説明)を編集する方法では、構造上のタスクとしては1つのため、期日管理が難しくなってしまいます。いずれにせよ、その後タスクA-1も分割できることが分かり、分割されたタスクも更に…と細分化していくと、実行可能なタスクの粒度としては適正なのにも関わらず、タスク管理が難しくなってしまうという状況が生まれます。

こうした課題を解決するために、タスクをツリー構造で管理することを考えました。ここで言うツリー構造とは、「全ての要素が0個以上の子を持ち、1つを除く全ての要素がただ1つの親を持つ」ようなデータ構造のことです。ツリー構造によってタスク管理することで、常に構造における終端のタスクが適正な粒度であり、その単位において期日管理ができ、なおかつタスク同士の連関を表現することができるようになります。二次面接の際、横井様に「タグ付け機能があっても良い」とのお言葉をいただきましたが、ツリー構造においては、構造におけるタスクの位置自体がタグと同様の情報を示します。(平易なアイデアに思われるかもしれませんが、ポピュラーなToDoアプリ、タスク管理アプリではツリー構造を導入しているものはありませんでした　※私調べ)

このような設計を踏まえた時に、長々とした詳細を付けなければならないタスクは、適正な粒度とは言えず、より細かいタスクに落とし込むべきなのではないかと考え、全角100字(300バイト)という制限を設けております。さしあたりの数字ですので、この数字に必然性があるというわけではありません。(実際、当初は前半角問わず80文字でしたが、試用していく中で増やしました)

また、結果として、限られた時間の中で私の技術ではこうしたツリー構造を持ったタスク管理機能を実装することはできませんでしたが、タスク管理ページの表題が「プロジェクト管理」となっている点や、このページの右側が不自然に空いている点(選択されたタスクの子タスクを右側に表示する予定でした)、あるタスクを開くとその時すでに開かれていたタスクは閉じる仕様などは、ツリー構造の実装を前提としたものとなっております。

##### 補足


# 洗い出した要件


# 実装した機能についての画像やGIFおよびその説明
- 項目
![画像の説明](https://gyazo.com/db272dfbde173ccfbebb443e72c1a8bd/raw)



# 実装予定の機能
- 項目①
- 項目②

# データベース設計

## users テーブル

| Column             | Type    | Options                    |
| ------------------ | ------- | -------------------------- |
| email              | string  | null: false, unique: true  |
| encrypted_password | string  | null: false                |
| nickname           | string  | null: false                |
| how_old_id         | integer | null: false                |
| sex_id             | integer | null: false                |
| introduction       | text    |                            |
| status_id          | integer | null: false, default: 1000 |



# 画面遷移図
![画面遷移図](https://gyazo.com/c195bddb9e31a5014bde4b6af57d1fd6/raw)

# 開発環境
#### ※Dockerをインストール済みであることを前提としています
- フレームワーク
  - Laravel Framework 9.50.2
- タスク管理
  - GitHub
- テキストエディタ
  - Visual Studio Code
- 使用言語
  - HTML
  - CSS
  - JavaScript
  - PHP 8.2.3
- デプロイ
  - AWS/EC2
  - AWS/RDS(mySQL)

# ローカルでの動作方法
#### ※Dockerがインストール済みであることを前提としています
##### git cloneする(ターミナルで実行)
ターミナルで次のコマンドを実行
```
git clone https://github.com/38752/tasks-cultivator-app.git
```
##### プロジェクトディレクトリに移動
ターミナルで次のコマンドを実行
```
cd tasks-cultivator-app
```
##### Composerのパッケージをインストール
ターミナルで次のコマンドを実行
```
docker run --rm -u "$(id -u):$(id -g)" -v $(pwd):/var/www/html -w /var/www/html laravelsail/php82-composer:latest composer install --ignore-platform-reqs
```
##### Sailをバックグラウンドで起動
ターミナルで次のコマンドを実行
```
./vendor/bin/sail up -d
```
##### プロジェクト直下に.envファイルを作成し、環境変数を設定
既に存在する.env.exampleファイルの名前を.envへ変更し使用しても構いません
##### .envファイルを編集
DB_HOSTを次のように設定します
```
DB_HOST=mysql
```
BASIC認証の挙動を確認する場合は次のように設定します
```
BASIC_AUTH_ID="<ユーザー名>"
BASIC_AUTH_PASS="<パスワード>"
```
##### 環境変数APP_KEYを設定
```
sail php artisan key:generate
```
##### マイグレート
```
sail php artisan migrate
```
##### npmをインストール
```
sail npm install
```
##### viteを起動
```
sail npm run dev
```
##### localhostにアクセス
```
http://localhost/
```

#### 停止させる場合
##### viteを停止
ターミナル上でcontrol + C
##### Sailのコンテナを停止
```
./vendor/bin/sail down
```


# 工夫したポイント、苦労した点
#### タイトル

<!-- これでコメントアウト -->
